{"changed":true,"filter":false,"title":"test.html","tooltip":"/app/views/book/test.html","value":"<html>\n\n<head>\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js\"></script>\n    <script type=\"text/javascript\">\n        /*\n         * jQuery css bezier animation support -- Jonah Fox\n         * version 0.0.1\n         * Released under the MIT license.\n         */\n        /*\n          var path = $.path.bezier({\n            start: {x:10, y:10, angle: 20, length: 0.3},\n            end:   {x:20, y:30, angle: -20, length: 0.2}\n          })\n          $(\"myobj\").animate({path: path}, duration)\n\n        */\n\n        ;\n        (function($) {\n\n            $.path = {};\n\n            var V = {\n                rotate: function(p, degrees) {\n                    var radians = degrees * Math.PI / 180,\n                        c = Math.cos(radians),\n                        s = Math.sin(radians);\n                    return [c * p[0] - s * p[1], s * p[0] + c * p[1]];\n                },\n                scale: function(p, n) {\n                    return [n * p[0], n * p[1]];\n                },\n                add: function(a, b) {\n                    return [a[0] + b[0], a[1] + b[1]];\n                },\n                minus: function(a, b) {\n                    return [a[0] - b[0], a[1] - b[1]];\n                }\n            };\n\n            $.path.bezier = function(params, rotate) {\n                params.start = $.extend({ angle: 0, length: 0.3333 }, params.start);\n                params.end = $.extend({ angle: 0, length: 0.3333 }, params.end);\n\n                this.p1 = [params.start.x, params.start.y];\n                this.p4 = [params.end.x, params.end.y];\n\n                var v14 = V.minus(this.p4, this.p1),\n                    v12 = V.scale(v14, params.start.length),\n                    v41 = V.scale(v14, -1),\n                    v43 = V.scale(v41, params.end.length);\n\n                v12 = V.rotate(v12, params.start.angle);\n                this.p2 = V.add(this.p1, v12);\n\n                v43 = V.rotate(v43, params.end.angle);\n                this.p3 = V.add(this.p4, v43);\n\n                this.f1 = function(t) { return (t * t * t); };\n                this.f2 = function(t) { return (3 * t * t * (1 - t)); };\n                this.f3 = function(t) { return (3 * t * (1 - t) * (1 - t)); };\n                this.f4 = function(t) { return ((1 - t) * (1 - t) * (1 - t)); };\n\n                /* p from 0 to 1 */\n                this.css = function(p) {\n                    var f1 = this.f1(p),\n                        f2 = this.f2(p),\n                        f3 = this.f3(p),\n                        f4 = this.f4(p),\n                        css = {};\n                    if (rotate) {\n                        css.prevX = this.x;\n                        css.prevY = this.y;\n                    }\n                    css.x = this.x = (this.p1[0] * f1 + this.p2[0] * f2 + this.p3[0] * f3 + this.p4[0] * f4 + .5) | 0;\n                    css.y = this.y = (this.p1[1] * f1 + this.p2[1] * f2 + this.p3[1] * f3 + this.p4[1] * f4 + .5) | 0;\n                    css.left = css.x + \"px\";\n                    css.top = css.y + \"px\";\n                    return css;\n                };\n            };\n\n            $.path.arc = function(params, rotate) {\n                for (var i in params) {\n                    this[i] = params[i];\n                }\n\n                this.dir = this.dir || 1;\n\n                while (this.start > this.end && this.dir > 0) {\n                    this.start -= 360;\n                }\n\n                while (this.start < this.end && this.dir < 0) {\n                    this.start += 360;\n                }\n\n                this.css = function(p) {\n                    var a = (this.start * (p) + this.end * (1 - (p))) * Math.PI / 180,\n                        css = {};\n\n                    if (rotate) {\n                        css.prevX = this.x;\n                        css.prevY = this.y;\n                    }\n                    css.x = this.x = (Math.sin(a) * this.radius + this.center[0] + .5) | 0;\n                    css.y = this.y = (Math.cos(a) * this.radius + this.center[1] + .5) | 0;\n                    css.left = css.x + \"px\";\n                    css.top = css.y + \"px\";\n                    return css;\n                };\n            };\n\n            $.fx.step.path = function(fx) {\n                var css = fx.end.css(1 - fx.pos);\n                if (css.prevX != null) {\n                    $.cssHooks.transform.set(fx.elem, \"rotate(\" + Math.atan2(css.prevY - css.y, css.prevX - css.x) + \")\");\n                }\n                fx.elem.style.top = css.top;\n                fx.elem.style.left = css.left;\n            };\n\n        })(jQuery);\n    </script>\n    <link rel=\"stylesheet\" href=\"https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css\">\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js\"></script>\n    <script>\n        $(function() {\n            window.isMoving = false;\n            window.LastX = 0;\n            window.LastY = 0;\n            var SineWave = function(distance) {\n\n                this.css = function(p) {\n\n                    window.LastX = $(\"#bee\").position().left;\n                    window.LastY = $(\"#bee\").position().top;\n                    var s = Math.sin((1-p) * Math.PI * 30);\n                    if(p < 0.8){\n                        s = Math.sin((1-p) * Math.PI * 3);\n                    }\n                    var x = window.LastX * p + window.xPos * (1 - p);\n                    console.log(s);\n                    var y = s * 50 * (p) + window.LastY * p + window.yPos * (1 - p);\n                    var o = ((s + 2) / 4 + 0.1);\n                    \n                    if(p === 0){\n                        window.isMoving = false;\n                    }\n                    return { top: y + \"px\", left: x + \"px\", opacity: o }\n                }\n            };\n            $(\"body\").click(function(event) {\n                if(window.isMoving){\n                    return;\n                }\n                window.isMoving = true;\n                // subtract 100 because of half bee size (200px/2), to move its center to cursor, not top left corner\n                window.xPos = event.pageX - 100;\n                window.yPos = event.pageY - 100;\n                //alert(window.xPos + \" \" + window.LastX)\n                var distance = Math.sqrt(Math.pow(Math.abs(window.xPos - window.LastX), 2) +\n                Math.pow(Math.abs(window.yPos - window.LastY), 2)\n                )\n                $(\"#bee\").css(\"position\", \"absolute\").animate({ path: new SineWave(distance)}, distance*1.5)\n\n\n            });\n\n            $(\"my_elem\").animate({ path: new SineWave })\n\n        });\n    </script>\n</head>\n\n<body>\n\n    <img id=\"bee\" style=\"max-width: 200px\" src=\"http://bestanimations.com/Animals/Insects/Bees/bee-animated-gif-36.gif\" />\n</body>\n\n</html>\n","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":2045.5,"scrollleft":0,"selection":{"start":{"row":159,"column":7},"end":{"row":159,"column":7},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":126,"state":"start","mode":"ace/mode/html"}},"timestamp":1501889610000}